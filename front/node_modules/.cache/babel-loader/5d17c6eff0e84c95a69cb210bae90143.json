{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/html/front/src/index.js\";\nimport ReactDOM from 'react-dom';\nimport './index.css'; //import App from './App';\n\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport { Redirect } from 'react-router-dom';\nimport BtnCellRenderer from './btn-cell-renderer.jsx'; //modal imports\n\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n/*ReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);*/\n\nclass GridExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.eraseSelectedRowData = () => {\n      let selectedNodes = this.gridApi.getSelectedNodes();\n      let selectedData = selectedNodes.map(node => node.data);\n\n      if (typeof selectedData[0] !== 'undefined') {\n        var payload = selectedData[0].id;\n        Axios.post('http://3.23.104.36:3001/cuponesBorrar', {\n          id: payload\n        }).then(res => {\n          //borrar fila\n          let selectedRow = this.gridApi.getSelectedRows()[0];\n          let newRowData = this.state.rowData.filter(row => {\n            return row !== selectedRow;\n          });\n          this.setState({\n            rowData: newRowData\n          });\n        });\n      }\n    };\n\n    this.onRowSelected = event => {\n      let selectedNodes = this.gridApi.getSelectedNodes();\n      let selectedData = selectedNodes.map(node => node.data);\n      var id2 = selectedData[0].id;\n      var serie2 = selectedData[0].serie;\n      var establecimiento2 = selectedData[0].establecimiento;\n      var estatus2 = selectedData[0].estatus;\n      var vigencia2 = selectedData[0].vigencia;\n      var producto2 = selectedData[0].producto;\n      this.setState({\n        id: id2\n      });\n      this.setState({\n        serie: serie2\n      });\n      this.setState({\n        establecimiento: establecimiento2\n      });\n      this.setState({\n        estatus: estatus2\n      });\n      this.setState({\n        vigencia: vigencia2\n      });\n      this.setState({\n        producto: producto2\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault(event);\n      Axios.post('http://3.23.104.36:3001/cuponesEditar', {\n        id: event.target.id.value,\n        serie: event.target.serie.value,\n        establecimiento: event.target.establecimiento.value,\n        estatus: event.target.estatus.value,\n        vigencia: event.target.vigencia.value,\n        producto: event.target.producto.value\n      }).then(res => {\n        console.log(res); //this.gridApi.setRowData(this.rowData);\n\n        const updateData = data => {\n          this.setState({\n            rowData: data\n          });\n        };\n\n        Axios.post('http://3.23.104.36:3001/cuponesCargar').then(res => {\n          console.log(res.data);\n          updateData(res.data);\n        });\n      });\n    };\n\n    this.onSubmit2 = event => {\n      event.preventDefault(event);\n      Axios.post('http://3.23.104.36:3001/cuponesAgregar', {\n        serie: event.target.serie.value,\n        establecimiento: event.target.establecimiento.value,\n        estatus: event.target.estatus.value,\n        vigencia: event.target.vigencia.value,\n        producto: event.target.producto.value\n      }).then(res => {\n        console.log(res); //this.gridApi.setRowData(this.rowData);\n\n        const updateData = data => {\n          this.setState({\n            rowData: data\n          });\n        };\n\n        Axios.post('http://3.23.104.36:3001/cuponesCargar').then(res => {\n          console.log(res.data);\n          updateData(res.data);\n        });\n      });\n    };\n\n    this.onGridReady = params => {\n      this.gridApi = params.api;\n      this.gridColumnApi = params.columnApi;\n\n      const updateData = data => {\n        this.setState({\n          rowData: data\n        });\n      };\n\n      Axios.post('http://3.23.104.36:3001/cuponesCargar').then(res => {\n        console.log(res.data);\n        updateData(res.data);\n      });\n    };\n\n    this.renderValidarCupones = e => {\n      alert('clicked');\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"http://google.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = {\n      columnDefs: [{\n        field: 'id',\n        maxWidth: 150\n      }, {\n        field: 'serie'\n      }, {\n        field: 'estatus'\n      }, {\n        field: 'establecimiento'\n      }, {\n        field: 'vigencia'\n      }, {\n        field: 'producto'\n      }, {\n        field: 'intentos',\n        maxWidth: 150\n      }\n      /*{ \n      field: '', \n      cellRenderer: 'btnCellRenderer', \n      cellRendererParams: {\n        clicked: function(field) {\n          alert(`${field} was clicked`);\n        }\n      },\n      maxWidth: 70\n      },\n      { \n      field: '', \n      cellRenderer: 'btnCellRenderer', \n      cellRendererParams: {\n        clicked: function(field) {\n          alert(`${field} was clicked`);\n        }\n      },\n      maxWidth: 50\n      }*/\n      ],\n      defaultColDef: {\n        flex: 1,\n        minWidth: 60\n      },\n      components: {\n        btnCellRenderer: BtnCellRenderer\n      },\n      rowData: [],\n      id: null,\n      establecimiento: null,\n      estatus: null,\n      serie: null,\n      vigencia: null,\n      producto: null,\n      formId: null,\n      formEstablecimiento: null,\n      formEstatus: null,\n      formProducto: null,\n      formSerie: null,\n      formVigencia: null\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onSubmit2 = this.onSubmit2.bind(this);\n    this.renderValidarCupones = this.renderValidarCupones.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        width: '99vw',\n        height: '90vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger btn-sm\",\n        onClick: this.eraseSelectedRowData,\n        style: {\n          margin: 10\n        },\n        children: \"Borrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), this.state.id !== null && /*#__PURE__*/_jsxDEV(Container, {\n        triggerText: 'Editar',\n        formId: this.state.id,\n        formEstablecimiento: this.state.establecimiento,\n        formEstatus: this.state.estatus,\n        formProducto: this.state.producto,\n        formSerie: this.state.serie,\n        formVigencia: this.state.vigencia,\n        onSubmit: this.onSubmit,\n        classButton: \"btn btn-primary btn-sm modal-button\",\n        formType: '1'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"myGrid\",\n        style: {\n          height: '70%',\n          width: '100%'\n        },\n        className: \"ag-theme-alpine\",\n        children: [/*#__PURE__*/_jsxDEV(AgGridReact, {\n          columnDefs: this.state.columnDefs,\n          defaultColDef: this.state.defaultColDef,\n          components: this.state.components,\n          onGridReady: this.onGridReady,\n          rowData: this.state.rowData,\n          rowSelection: \"single\",\n          onRowSelected: this.onRowSelected.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '9px',\n            marginTop: '7px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            triggerText: 'Agregar',\n            formId: null,\n            formEstablecimiento: null,\n            formEstatus: null,\n            formProducto: null,\n            formSerie: null,\n            formVigencia: null,\n            onSubmit: this.onSubmit2,\n            classButton: \"btn btn-success btn-sm modal-button\",\n            formType: '2'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            float: 'right'\n          },\n          href: '#',\n          onClick: this.renderValidarCupones,\n          children: \"Validar Cupones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(GridExample, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 289,\n  columnNumber: 17\n}, this), document.querySelector('#root'));\nreportWebVitals();","map":{"version":3,"sources":["/var/www/html/front/src/index.js"],"names":["ReactDOM","reportWebVitals","Axios","React","useState","useEffect","Component","AgGridColumn","AgGridReact","Redirect","BtnCellRenderer","Container","GridExample","constructor","props","eraseSelectedRowData","selectedNodes","gridApi","getSelectedNodes","selectedData","map","node","data","payload","id","post","then","res","selectedRow","getSelectedRows","newRowData","state","rowData","filter","row","setState","onRowSelected","event","id2","serie2","serie","establecimiento2","establecimiento","estatus2","estatus","vigencia2","vigencia","producto2","producto","onSubmit","preventDefault","target","value","console","log","updateData","onSubmit2","onGridReady","params","api","gridColumnApi","columnApi","renderValidarCupones","e","alert","columnDefs","field","maxWidth","defaultColDef","flex","minWidth","components","btnCellRenderer","formId","formEstablecimiento","formEstatus","formProducto","formSerie","formVigencia","bind","render","width","height","margin","marginLeft","marginTop","float","document","querySelector"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport {Redirect} from 'react-router-dom';\nimport BtnCellRenderer from './btn-cell-renderer.jsx';\n//modal imports\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n/*ReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);*/\n\nclass GridExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      columnDefs: [\n        {\n          field: 'id',\n          maxWidth:150\n        },\n        {\n          field: 'serie'\n        },\n        {\n          field: 'estatus'\n        },\n        {\n          field: 'establecimiento'\n        },\n        {\n          field: 'vigencia'\n        },\n        {\n          field: 'producto'\n        },\n        {\n          field: 'intentos',\n          maxWidth:150\n        }\n        /*{ \n        field: '', \n        cellRenderer: 'btnCellRenderer', \n        cellRendererParams: {\n          clicked: function(field) {\n            alert(`${field} was clicked`);\n          }\n        },\n        maxWidth: 70\n        },\n        { \n        field: '', \n        cellRenderer: 'btnCellRenderer', \n        cellRendererParams: {\n          clicked: function(field) {\n            alert(`${field} was clicked`);\n          }\n        },\n        maxWidth: 50\n        }*/\n      ],\n      defaultColDef: {\n        flex: 1,\n        minWidth: 60,\n      },\n      components: {\n        btnCellRenderer: BtnCellRenderer\n      },\n      rowData: [],\n      id: null,\n      establecimiento: null,\n      estatus: null,\n      serie: null,\n      vigencia: null,\n      producto: null,\n      formId:null,\n      formEstablecimiento:null,\n      formEstatus:null,\n      formProducto:null,\n      formSerie:null,\n      formVigencia:null,\n\n    };\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onSubmit2 = this.onSubmit2.bind(this);\n    this.renderValidarCupones = this.renderValidarCupones.bind(this);\n    \n  }\n  \n  eraseSelectedRowData = () => {\n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    if (typeof selectedData[0] !== 'undefined'){\n    var payload =selectedData[0].id;\n    Axios.post('http://3.23.104.36:3001/cuponesBorrar',{id:payload})\n    .then(res => {\n      //borrar fila\n      let selectedRow = this.gridApi.getSelectedRows()[0];\n      let newRowData = this.state.rowData.filter(row => {\n        return row !== selectedRow;\n      });\n      this.setState({ rowData: newRowData });\n    });\n    }\n  };\n  /*\n  editSelectedRowData = () => {\n     \n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    var id =selectedData[0].id;\n    var serie =selectedData[0].serie;\n    var establecimiento =selectedData[0].establecimiento;\n    var estatus =selectedData[0].estatus;\n    var vigencia =selectedData[0].vigencia;\n    Axios.post('http://3.23.104.36:3001/cuponesEditar',{\n      id:id,\n      serie:serie,\n      establecimiento: establecimiento,\n      estatus: estatus,\n      vigencia: vigencia\n      })\n    .then(res => {\n      console.log(res);\n    });\n  };\n*/\n   onRowSelected = (event) => {\n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    var id2 =selectedData[0].id;\n    var serie2 =selectedData[0].serie;\n    var establecimiento2 =selectedData[0].establecimiento;\n    var estatus2 =selectedData[0].estatus;\n    var vigencia2 =selectedData[0].vigencia;\n    var producto2 =selectedData[0].producto;\n    this.setState({ id:id2 });\n    this.setState({ serie:serie2 });\n    this.setState({ establecimiento:establecimiento2 });\n    this.setState({ estatus:estatus2 });\n    this.setState({ vigencia:vigencia2 });\n    this.setState({ producto:producto2 });\n     \n  };\n\n  onSubmit = (event) => {\n    event.preventDefault(event);\n    Axios.post('http://3.23.104.36:3001/cuponesEditar',{\n      id:event.target.id.value,\n      serie: event.target.serie.value,\n      establecimiento: event.target.establecimiento.value,\n      estatus: event.target.estatus.value,\n      vigencia: event.target.vigencia.value,\n      producto: event.target.producto.value\n      })\n    .then(res => {\n      console.log(res);\n      //this.gridApi.setRowData(this.rowData);\n      const updateData = data => {\n        this.setState({ rowData: data });\n      };\n\n      Axios.post('http://3.23.104.36:3001/cuponesCargar')\n      .then(res => {\n        console.log(res.data);\n        updateData(res.data);\n      });\n      \n    });\n  };\n\n  onSubmit2 = (event) => {\n    event.preventDefault(event);\n    Axios.post('http://3.23.104.36:3001/cuponesAgregar',{\n      serie: event.target.serie.value,\n      establecimiento: event.target.establecimiento.value,\n      estatus: event.target.estatus.value,\n      vigencia: event.target.vigencia.value,\n      producto: event.target.producto.value\n      })\n    .then(res => {\n      console.log(res);\n      //this.gridApi.setRowData(this.rowData);\n      const updateData = data => {\n        this.setState({ rowData: data });\n      };\n\n      Axios.post('http://3.23.104.36:3001/cuponesCargar')\n      .then(res => {\n        console.log(res.data);\n        updateData(res.data);\n      });\n      \n    });\n  };\n\n\n  onGridReady = params => {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n\n    const updateData = data => {\n      this.setState({ rowData: data });\n    };\n\n    Axios.post('http://3.23.104.36:3001/cuponesCargar')\n    .then(res => {\n      console.log(res.data);\n      updateData(res.data);\n    });\n\n  };\n \n  renderValidarCupones = (e) => {\n    alert('clicked');\n    return  <Redirect to=\"http://google.com\" />\n     \n  }\n\n  render() {\n    return (\n      <div className=\"ag-theme-alpine\" style={{ width: '99vw', height: '90vh' }}>\n        <button \n          className = \"btn btn-danger btn-sm\"\n          onClick={this.eraseSelectedRowData}\n          style={{margin: 10}}\n          >Borrar\n        </button>\n        {this.state.id!==null &&\n        <Container triggerText={'Editar'} \n          formId={this.state.id} \n          formEstablecimiento={this.state.establecimiento}\n          formEstatus={this.state.estatus}\n          formProducto={this.state.producto}\n          formSerie={this.state.serie}\n          formVigencia={this.state.vigencia} \n          onSubmit={this.onSubmit} \n          classButton={\"btn btn-primary btn-sm modal-button\"}\n          formType={'1'}/> }\n        <div\n          id=\"myGrid\"\n          style={{\n            height: '70%',\n            width: '100%',\n          }}\n          className=\"ag-theme-alpine\"\n        >\n          <AgGridReact\n            columnDefs={this.state.columnDefs}\n            defaultColDef={this.state.defaultColDef}\n            components={this.state.components}\n            onGridReady={this.onGridReady}\n            rowData={this.state.rowData}\n            rowSelection=\"single\"\n            onRowSelected={this.onRowSelected.bind(this)}\n          />\n          <div style={{marginLeft: '9px', marginTop: '7px' }}>\n          <Container triggerText={'Agregar'} \n          formId={null} \n          formEstablecimiento={null}\n          formEstatus={null}\n          formProducto={null}\n          formSerie={null}\n          formVigencia={null} \n          onSubmit={this.onSubmit2} \n          classButton={\"btn btn-success btn-sm modal-button\"}\n          formType={'2'}/>\n          </div>\n          <a style={{float:'right'}} href={'#'} onClick={this.renderValidarCupones}>Validar Cupones</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<GridExample></GridExample>, document.querySelector('#root'));\n\n\nreportWebVitals();\n"]},"metadata":{},"sourceType":"module"}