{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/html/front/src/index.js\";\nimport ReactDOM from 'react-dom';\nimport './index.css'; //import App from './App';\n\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport BtnCellRenderer from './btn-cell-renderer.jsx'; //modal imports\n\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n/*ReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);*/\n\nclass GridExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.eraseSelectedRowData = () => {\n      let selectedNodes = this.gridApi.getSelectedNodes();\n      let selectedData = selectedNodes.map(node => node.data);\n      var payload = selectedData[0].id;\n      console.log(payload);\n      Axios.post('http://3.23.104.36:3001/cuponesBorrar', {\n        id: payload\n      }).then(res => {\n        console.log(res);\n      });\n    };\n\n    this.editSelectedRowData = () => {\n      let selectedNodes = this.gridApi.getSelectedNodes();\n      let selectedData = selectedNodes.map(node => node.data);\n      var id = selectedData[0].id;\n      var serie = selectedData[0].serie;\n      var establecimiento = selectedData[0].establecimiento;\n      var estatus = selectedData[0].estatus;\n      var vigencia = selectedData[0].vigencia;\n      Axios.post('http://3.23.104.36:3001/cuponesEditar', {\n        id: id,\n        serie: serie,\n        establecimiento: establecimiento,\n        estatus: estatus,\n        vigencia: vigencia\n      }).then(res => {\n        console.log(res);\n      });\n    };\n\n    this.onRowSelected = event => {\n      let selectedNodes = this.gridApi.getSelectedNodes();\n      let selectedData = selectedNodes.map(node => node.data);\n      var id = selectedData[0].id;\n      this.setState({\n        text: id\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault(event);\n      alert(event.target.name.value);\n    };\n\n    this.onGridReady = params => {\n      this.gridApi = params.api;\n      this.gridColumnApi = params.columnApi;\n\n      const updateData = data => {\n        this.setState({\n          rowData: data\n        });\n      };\n\n      this.setState({\n        formId: 'data'\n      });\n      Axios.post('http://3.23.104.36:3001/cuponesCargar').then(res => {\n        console.log(res.data);\n        updateData(res.data);\n      });\n    };\n\n    this.state = {\n      columnDefs: [{\n        field: 'id',\n        maxWidth: 150\n      }, {\n        field: 'serie'\n      }, {\n        field: 'estatus'\n      }, {\n        field: 'establecimiento'\n      }, {\n        field: 'vigencia'\n      }, {\n        field: 'producto'\n      }, {\n        field: 'intentos',\n        maxWidth: 100\n      }\n      /*{ \n      field: '', \n      cellRenderer: 'btnCellRenderer', \n      cellRendererParams: {\n        clicked: function(field) {\n          alert(`${field} was clicked`);\n        }\n      },\n      maxWidth: 70\n      },\n      { \n      field: '', \n      cellRenderer: 'btnCellRenderer', \n      cellRendererParams: {\n        clicked: function(field) {\n          alert(`${field} was clicked`);\n        }\n      },\n      maxWidth: 50\n      }*/\n      ],\n      defaultColDef: {\n        flex: 1,\n        minWidth: 60\n      },\n      components: {\n        btnCellRenderer: BtnCellRenderer\n      },\n      rowData: [],\n      text: null,\n      formId: 'hola mundo'\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        width: '99vw',\n        height: '90vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger btn-sm\",\n        onClick: this.eraseSelectedRowData,\n        style: {\n          margin: 10\n        },\n        children: \"Borrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        triggerText: 'Editar',\n        formId: this.state.text,\n        onSubmit: this.onSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success btn-sm\",\n        onClick: this.editSelectedRowData,\n        style: {\n          margin: 10\n        },\n        children: \"Agregar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"myGrid\",\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        className: \"ag-theme-alpine\",\n        children: /*#__PURE__*/_jsxDEV(AgGridReact, {\n          columnDefs: this.state.columnDefs,\n          defaultColDef: this.state.defaultColDef,\n          components: this.state.components,\n          onGridReady: this.onGridReady,\n          rowData: this.state.rowData,\n          rowSelection: \"single\",\n          onRowSelected: this.onRowSelected.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(GridExample, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 194,\n  columnNumber: 17\n}, this), document.querySelector('#root'));\nreportWebVitals();","map":{"version":3,"sources":["/var/www/html/front/src/index.js"],"names":["ReactDOM","reportWebVitals","Axios","React","useState","useEffect","Component","AgGridColumn","AgGridReact","BtnCellRenderer","Container","GridExample","constructor","props","eraseSelectedRowData","selectedNodes","gridApi","getSelectedNodes","selectedData","map","node","data","payload","id","console","log","post","then","res","editSelectedRowData","serie","establecimiento","estatus","vigencia","onRowSelected","event","setState","text","onSubmit","preventDefault","alert","target","name","value","onGridReady","params","api","gridColumnApi","columnApi","updateData","rowData","formId","state","columnDefs","field","maxWidth","defaultColDef","flex","minWidth","components","btnCellRenderer","bind","render","width","height","margin","document","querySelector"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\nimport './index.css';\n//import App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport React, { useState, useEffect, Component } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport BtnCellRenderer from './btn-cell-renderer.jsx';\n//modal imports\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\n/*ReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);*/\n\nclass GridExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      columnDefs: [\n        {\n          field: 'id',\n          maxWidth:150\n        },\n        {\n          field: 'serie'\n        },\n        {\n          field: 'estatus'\n        },\n        {\n          field: 'establecimiento'\n        },\n        {\n          field: 'vigencia'\n        },\n        {\n          field: 'producto'\n        },\n        {\n          field: 'intentos',\n          maxWidth:100\n        }\n        /*{ \n        field: '', \n        cellRenderer: 'btnCellRenderer', \n        cellRendererParams: {\n          clicked: function(field) {\n            alert(`${field} was clicked`);\n          }\n        },\n        maxWidth: 70\n        },\n        { \n        field: '', \n        cellRenderer: 'btnCellRenderer', \n        cellRendererParams: {\n          clicked: function(field) {\n            alert(`${field} was clicked`);\n          }\n        },\n        maxWidth: 50\n        }*/\n      ],\n      defaultColDef: {\n        flex: 1,\n        minWidth: 60,\n      },\n      components: {\n        btnCellRenderer: BtnCellRenderer\n      },\n      rowData: [],\n      text: null,\n      formId:'hola mundo'\n    };\n\n    this.onSubmit = this.onSubmit.bind(this);\n    \n  }\n  \n  eraseSelectedRowData = () => {\n     \n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    var payload =selectedData[0].id;\n    console.log(payload);\n    Axios.post('http://3.23.104.36:3001/cuponesBorrar',{id:payload})\n    .then(res => {\n      console.log(res);\n      \n    });\n  };\n\n  editSelectedRowData = () => {\n     \n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    var id =selectedData[0].id;\n    var serie =selectedData[0].serie;\n    var establecimiento =selectedData[0].establecimiento;\n    var estatus =selectedData[0].estatus;\n    var vigencia =selectedData[0].vigencia;\n    Axios.post('http://3.23.104.36:3001/cuponesEditar',{\n      id:id,\n      serie:serie,\n      establecimiento: establecimiento,\n      estatus: estatus,\n      vigencia: vigencia\n      })\n    .then(res => {\n      console.log(res);\n    });\n  };\n\n   onRowSelected = (event) => {\n    let selectedNodes = this.gridApi.getSelectedNodes();\n    let selectedData = selectedNodes.map(node => node.data);\n    var id =selectedData[0].id;\n      \n      this.setState({ text:id }); \n  };\n\n  onSubmit = (event) => {\n    event.preventDefault(event);\n    alert(event.target.name.value);\n  };\n\n  onGridReady = params => {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n\n    const updateData = data => {\n      this.setState({ rowData: data });\n    };\n\n    this.setState({ formId: 'data' });\n\n    Axios.post('http://3.23.104.36:3001/cuponesCargar')\n    .then(res => {\n      console.log(res.data);\n      updateData(res.data);\n    });\n\n  };\n \n  render() {\n    return (\n      <div className=\"ag-theme-alpine\" style={{ width: '99vw', height: '90vh' }}>\n        <button \n          className = \"btn btn-danger btn-sm\"\n          onClick={this.eraseSelectedRowData}\n          style={{margin: 10}}\n          >Borrar\n        </button>\n        <Container triggerText={'Editar'} formId={this.state.text} onSubmit={this.onSubmit} />\n        <button \n          className = \"btn btn-success btn-sm\"\n          onClick={this.editSelectedRowData}\n          style={{margin: 10}}\n          >Agregar\n        </button>\n        <div\n          id=\"myGrid\"\n          style={{\n            height: '100%',\n            width: '100%',\n          }}\n          className=\"ag-theme-alpine\"\n        >\n          <AgGridReact\n            columnDefs={this.state.columnDefs}\n            defaultColDef={this.state.defaultColDef}\n            components={this.state.components}\n            onGridReady={this.onGridReady}\n            rowData={this.state.rowData}\n            rowSelection=\"single\"\n            onRowSelected={this.onRowSelected.bind(this)}\n          />\n          \n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<GridExample></GridExample>, document.querySelector('#root'));\n\n\nreportWebVitals();\n"]},"metadata":{},"sourceType":"module"}