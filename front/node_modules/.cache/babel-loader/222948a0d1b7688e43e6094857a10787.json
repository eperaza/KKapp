{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/html/front/src/validar.js\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport { BrowserRouter as Router, Route, Link, Switch, useParams } from \"react-router-dom\";\nimport React, { useState, useEffect, Component, Fragment } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react'; //import 'ag-grid-enterprise';\n\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport BtnCellRenderer from './btn-cell-renderer.jsx'; //modal imports\n\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nexport class Validar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.textChangeHandler = e => {\n      //console.log(e.target.value);\n      Axios.post('http://18.220.204.199:3001/cuponesValidar', {\n        id: e.target.value\n      }).then(res => {\n        this.setState({\n          establecimiento: res.data[0].establecimiento\n        });\n        this.setState({\n          estatus: res.data[0].estatus\n        });\n        this.setState({\n          serie: res.data[0].serie\n        });\n        this.setState({\n          vigencia: res.data[0].vigencia\n        });\n        this.setState({\n          id: res.data[0].id\n        });\n        this.setState({\n          producto: res.data[0].producto\n        });\n        this.setState({\n          intentos: res.data[0].intentos\n        });\n      }).catch(function (error) {\n        if (error.response) {\n          // Request made and server responded\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log('Error', error.message);\n        }\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault(event);\n      Axios.post('http://18.220.204.199:3001/cuponesCanjear', {\n        id: this.state.id\n      }).then(res => {\n        console.log(res.data);\n        Axios.post('http://18.220.204.199:3001/cuponesValidar', {\n          id: this.state.id\n        }).then(res => {\n          this.setState({\n            establecimiento: res.data[0].establecimiento\n          });\n          this.setState({\n            estatus: res.data[0].estatus\n          });\n          this.setState({\n            serie: res.data[0].serie\n          });\n          this.setState({\n            vigencia: res.data[0].vigencia\n          });\n          this.setState({\n            id: res.data[0].id\n          });\n          this.setState({\n            producto: res.data[0].producto\n          });\n          this.setState({\n            intentos: res.data[0].intentos\n          });\n        }).catch(function (error) {\n          if (error.response) {\n            // Request made and server responded\n            console.log(error.response.data);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          } else if (error.request) {\n            // The request was made but no response was received\n            console.log(error.request);\n          } else {\n            // Something happened in setting up the request that triggered an Error\n            console.log('Error', error.message);\n          }\n        });\n      });\n    };\n\n    this.state = {\n      id: null\n    };\n    this.textChangeHandler = this.textChangeHandler.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n          children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n            id: \"inputGroup-sizing-lg\",\n            children: \"Cupon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          \"aria-label\": \"Large\",\n          type: \"number\",\n          placeholder: \"Introduce el Id del cupon (solo numeros)\",\n          \"aria-describedby\": \"inputGroup-sizing-sm\",\n          onChange: this.textChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '9px',\n          marginTop: '7px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          triggerText: 'Canjear',\n          formId: this.state.id,\n          formEstablecimiento: this.state.establecimiento,\n          formEstatus: this.state.estatus,\n          formProducto: this.state.producto,\n          formSerie: this.state.serie,\n          formVigencia: this.state.vigencia,\n          onSubmit: this.onSubmit,\n          classButton: \"btn btn-primary btn-sm modal-button\",\n          formType: '3',\n          formIntentos: this.state.intentos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default Validar;\nreportWebVitals();","map":{"version":3,"sources":["/var/www/html/front/src/validar.js"],"names":["App","reportWebVitals","Axios","BrowserRouter","Router","Route","Link","Switch","useParams","React","useState","useEffect","Component","Fragment","AgGridColumn","AgGridReact","BtnCellRenderer","Container","InputGroup","FormControl","Validar","constructor","props","textChangeHandler","e","post","id","target","value","then","res","setState","establecimiento","data","estatus","serie","vigencia","producto","intentos","catch","error","response","console","log","status","headers","request","message","onSubmit","event","preventDefault","state","bind","render","marginLeft","marginTop"],"mappings":";;AAAA,OAAO,aAAP;AACA,OAAOA,GAAP,MAAgB,OAAhB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,IAAzC,EAA+CC,MAA/C,EAAuDC,SAAvD,QAAwE,kBAAxE;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,EAAgDC,QAAhD,QAAiE,OAAjE;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,eAA1C,C,CACA;;AACA,OAAO,2CAAP;AACA,OAAO,mDAAP;AACA,OAAOC,eAAP,MAA4B,yBAA5B,C,CACA;;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAO,sCAAP;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AAGA,OAAO,MAAMC,OAAN,SAAsBR,SAAtB,CAAgC;AACrCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAanBC,iBAbmB,GAaEC,CAAD,IAAO;AAC1B;AAECtB,MAAAA,KAAK,CAACuB,IAAN,CAAW,2CAAX,EAAuD;AACpDC,QAAAA,EAAE,EAACF,CAAC,CAACG,MAAF,CAASC;AADwC,OAAvD,EAGCC,IAHD,CAGMC,GAAG,IAAI;AACT,aAAKC,QAAL,CAAc;AAAEC,UAAAA,eAAe,EAACF,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYD;AAA9B,SAAd;AACA,aAAKD,QAAL,CAAc;AAAEG,UAAAA,OAAO,EAACJ,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYC;AAAtB,SAAd;AACA,aAAKH,QAAL,CAAc;AAAEI,UAAAA,KAAK,EAACL,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYE;AAApB,SAAd;AACA,aAAKJ,QAAL,CAAc;AAAEK,UAAAA,QAAQ,EAACN,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYG;AAAvB,SAAd;AACA,aAAKL,QAAL,CAAc;AAAEL,UAAAA,EAAE,EAACI,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYP;AAAjB,SAAd;AACA,aAAKK,QAAL,CAAc;AAAEM,UAAAA,QAAQ,EAACP,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYI;AAAvB,SAAd;AACA,aAAKN,QAAL,CAAc;AAAEO,UAAAA,QAAQ,EAACR,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYK;AAAvB,SAAd;AACH,OAXD,EAYCC,KAZD,CAYO,UAAUC,KAAV,EAAiB;AACxB,YAAIA,KAAK,CAACC,QAAV,EAAoB;AAClB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeR,IAA3B;AACAS,UAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeG,MAA3B;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeI,OAA3B;AACD,SALD,MAKO,IAAIL,KAAK,CAACM,OAAV,EAAmB;AACxB;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACM,OAAlB;AACD,SAHM,MAGA;AACL;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAAK,CAACO,OAA3B;AACD;AAEF,OA1BC;AA2BH,KA3CoB;;AAAA,SA6CrBC,QA7CqB,GA6CTC,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACC,cAAN,CAAqBD,KAArB;AACA/C,MAAAA,KAAK,CAACuB,IAAN,CAAW,2CAAX,EAAuD;AACrDC,QAAAA,EAAE,EAAC,KAAKyB,KAAL,CAAWzB;AADuC,OAAvD,EAGCG,IAHD,CAGMC,GAAG,IAAI;AACXY,QAAAA,OAAO,CAACC,GAAR,CAAYb,GAAG,CAACG,IAAhB;AACA/B,QAAAA,KAAK,CAACuB,IAAN,CAAW,2CAAX,EAAuD;AACtDC,UAAAA,EAAE,EAAC,KAAKyB,KAAL,CAAWzB;AADwC,SAAvD,EAGOG,IAHP,CAGYC,GAAG,IAAI;AACT,eAAKC,QAAL,CAAc;AAAEC,YAAAA,eAAe,EAACF,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYD;AAA9B,WAAd;AACA,eAAKD,QAAL,CAAc;AAAEG,YAAAA,OAAO,EAACJ,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYC;AAAtB,WAAd;AACA,eAAKH,QAAL,CAAc;AAAEI,YAAAA,KAAK,EAACL,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYE;AAApB,WAAd;AACA,eAAKJ,QAAL,CAAc;AAAEK,YAAAA,QAAQ,EAACN,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYG;AAAvB,WAAd;AACA,eAAKL,QAAL,CAAc;AAAEL,YAAAA,EAAE,EAACI,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYP;AAAjB,WAAd;AACA,eAAKK,QAAL,CAAc;AAAEM,YAAAA,QAAQ,EAACP,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYI;AAAvB,WAAd;AACA,eAAKN,QAAL,CAAc;AAAEO,YAAAA,QAAQ,EAACR,GAAG,CAACG,IAAJ,CAAS,CAAT,EAAYK;AAAvB,WAAd;AACH,SAXP,EAYOC,KAZP,CAYa,UAAUC,KAAV,EAAiB;AACpB,cAAIA,KAAK,CAACC,QAAV,EAAoB;AACpB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeR,IAA3B;AACAS,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeG,MAA3B;AACAF,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,QAAN,CAAeI,OAA3B;AACH,WALG,MAKG,IAAIL,KAAK,CAACM,OAAV,EAAmB;AAC1B;AACIJ,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACM,OAAlB;AACH,WAHM,MAGA;AACP;AACIJ,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAAK,CAACO,OAA3B;AACH;AAEJ,SA1BH;AA2BD,OAhCD;AAiCD,KAhFkB;;AAGjB,SAAKI,KAAL,GAAa;AACTzB,MAAAA,EAAE,EAAC;AADM,KAAb;AAIA,SAAKH,iBAAL,GAAyB,KAAKA,iBAAL,CAAuB6B,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKJ,QAAL,GAAgB,KAAKA,QAAL,CAAcI,IAAd,CAAmB,IAAnB,CAAhB;AAGD;;AAuEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,IAAI,EAAC,IAAjB;AAAA,gCACI,QAAC,UAAD,CAAY,OAAZ;AAAA,iCACA,QAAC,UAAD,CAAY,IAAZ;AAAiB,YAAA,EAAE,EAAC,sBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,WAAD;AAAa,wBAAW,OAAxB;AAAgC,UAAA,IAAI,EAAC,QAArC;AAA8C,UAAA,WAAW,EAAC,0CAA1D;AAAqG,8BAAiB,sBAAtH;AAA6I,UAAA,QAAQ,EAAE,KAAK9B;AAA5J;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAQI;AAAK,QAAA,KAAK,EAAE;AAAC+B,UAAAA,UAAU,EAAE,KAAb;AAAoBC,UAAAA,SAAS,EAAE;AAA/B,SAAZ;AAAA,+BACA,QAAC,SAAD;AAAW,UAAA,WAAW,EAAE,SAAxB;AACA,UAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWzB,EADnB;AAEA,UAAA,mBAAmB,EAAE,KAAKyB,KAAL,CAAWnB,eAFhC;AAGA,UAAA,WAAW,EAAE,KAAKmB,KAAL,CAAWjB,OAHxB;AAIA,UAAA,YAAY,EAAE,KAAKiB,KAAL,CAAWd,QAJzB;AAKA,UAAA,SAAS,EAAE,KAAKc,KAAL,CAAWhB,KALtB;AAMA,UAAA,YAAY,EAAE,KAAKgB,KAAL,CAAWf,QANzB;AAOA,UAAA,QAAQ,EAAE,KAAKY,QAPf;AAQA,UAAA,WAAW,EAAE,qCARb;AASA,UAAA,QAAQ,EAAE,GATV;AAUA,UAAA,YAAY,EAAE,KAAKG,KAAL,CAAWb;AAVzB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA0BD;;AA9GoC;AAiHvC,eAAelB,OAAf;AACAnB,eAAe","sourcesContent":["import './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Axios from \"axios\";\nimport { BrowserRouter as Router, Route, Link, Switch, useParams } from \"react-router-dom\";\nimport React, { useState, useEffect, Component, Fragment  } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\n//import 'ag-grid-enterprise';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport BtnCellRenderer from './btn-cell-renderer.jsx';\n//modal imports\nimport { Container } from './Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport FormControl from 'react-bootstrap/FormControl'\n\n\nexport class Validar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        id:null\n    };\n    \n    this.textChangeHandler = this.textChangeHandler.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n\n  }\n  \n  textChangeHandler = (e) => {\n   //console.log(e.target.value);\n   \n    Axios.post('http://18.220.204.199:3001/cuponesValidar',{\n       id:e.target.value\n   })\n    .then(res => {\n        this.setState({ establecimiento:res.data[0].establecimiento });\n        this.setState({ estatus:res.data[0].estatus });\n        this.setState({ serie:res.data[0].serie });\n        this.setState({ vigencia:res.data[0].vigencia });\n        this.setState({ id:res.data[0].id });\n        this.setState({ producto:res.data[0].producto });\n        this.setState({ intentos:res.data[0].intentos });\n    })\n    .catch(function (error) {\n    if (error.response) {\n      // Request made and server responded\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n    }\n\n  });\n};\n\nonSubmit = (event) => {\n    event.preventDefault(event);\n    Axios.post('http://18.220.204.199:3001/cuponesCanjear',{\n      id:this.state.id\n      })\n    .then(res => {\n      console.log(res.data);\n      Axios.post('http://18.220.204.199:3001/cuponesValidar',{\n       id:this.state.id\n        })\n            .then(res => {\n                this.setState({ establecimiento:res.data[0].establecimiento });\n                this.setState({ estatus:res.data[0].estatus });\n                this.setState({ serie:res.data[0].serie });\n                this.setState({ vigencia:res.data[0].vigencia });\n                this.setState({ id:res.data[0].id });\n                this.setState({ producto:res.data[0].producto });\n                this.setState({ intentos:res.data[0].intentos });\n            })\n            .catch(function (error) {\n                if (error.response) {\n                // Request made and server responded\n                console.log(error.response.data);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n            } else if (error.request) {\n            // The request was made but no response was received\n                console.log(error.request);\n            } else {\n            // Something happened in setting up the request that triggered an Error\n                console.log('Error', error.message);\n            }\n\n        });          \n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <InputGroup size=\"lg\">\n            <InputGroup.Prepend>\n            <InputGroup.Text id=\"inputGroup-sizing-lg\">Cupon</InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl aria-label=\"Large\" type=\"number\" placeholder=\"Introduce el Id del cupon (solo numeros)\" aria-describedby=\"inputGroup-sizing-sm\" onChange={this.textChangeHandler}/>\n        </InputGroup>\n\n          <div style={{marginLeft: '9px', marginTop: '7px' }}>\n          <Container triggerText={'Canjear'} \n          formId={this.state.id} \n          formEstablecimiento={this.state.establecimiento}\n          formEstatus={this.state.estatus}\n          formProducto={this.state.producto}\n          formSerie={this.state.serie}\n          formVigencia={this.state.vigencia} \n          onSubmit={this.onSubmit} \n          classButton={\"btn btn-primary btn-sm modal-button\"}\n          formType={'3'}\n          formIntentos={this.state.intentos}/>\n          </div>\n      </div>\n\n     \n    );\n  }\n}\n\nexport default Validar;\nreportWebVitals();\n"]},"metadata":{},"sourceType":"module"}